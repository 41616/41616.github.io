---
title: 洛谷P1080国王游戏 题解
---
[题目传送门](https://www.luogu.com.cn/problem/P1080)

首先我按照大臣右手数字的大小排序，结果[残忍20分](https://www.luogu.com.cn/record/67440098)

~~说明洛谷还是有水数据的！~~我的心中有信念！

按照左手数字排序肯定不对，又考虑到题目里只出现乘除法，就想到按照左右手乘积排序。

```cpp
#include<iostream>
#include<algorithm>
using namespace std;
typedef unsigned long long ull;
struct person{
	ull l,r;
	bool operator<(person&i)const{
		return l*r<i.l*i.r;
	}
	void InPut(){
		cin>>l>>r;
	}
}p[1024];
int main(){
	ull n,l,r,ans=0;cin>>n>>l>>r;
	for(ull i=0;i<n;i++)p[i].InPut();
	sort(p,p+n);
	for(ull i=0;i<n;i++){
		ans=max(ans,l/p[i].r);
		l*=p[i].l;
	}
	cout<<ans;
}
```

结果[残忍50分！！！](https://www.luogu.com.cn/record/67938204)

### WTF？

下载数据一看，#6的output是$2166489661101032350678866897536628698296804147316726878162441737980268621335310233327258927458239967674879428851028800069063620140885606400000000000000000$

即便是能存数范围最大的$ull$也根本存不下！

考虑写高精度

- 啊啊高精度好难写啦~
- 我就不说高精度有多重要啦
- ……

因为写高精度位数很重要，所以……我给每个数组都开了长度变量

## 高精乘：模拟手算

模拟$14*23$，倒着存

**a** 4 1 0

**b** 3 2 0

**c** 0 0 0

step.1：a[0]的4乘b[0]的3，将c[0]加上12

**c** 12 0 0

step.2：c[0]超过10，将c[0]减10，c[1]加1

**c** 2 1 0

step.3：a[0]的4乘b[1]的2，将c[1]加上8

**c** 2 9 0

step.4：a[1]的1乘b[0]的3，将c[1]加上3

**c** 2 12 0

step.5：c[1]超过10，将c[1]减10,c[2]加1

**c** 2 2 1

step.6：a[1]的1乘b[1]的2，将c[2]加上2

**c** 2 2 3

完成。倒着读，$14*23=322$，没错。

```cpp
void mul(int a[],int b[],int la,int lb,int c[],int&lc){
	for(int i=0;i<la;i++){
		int x=0;
		for(int j=0;j<lb;j++){
			c[i+j]+=a[i]*b[j]+x;
			x=c[i+j]/10;
			c[i+j]%=10;
		}
		c[i+lb]=x;
	}
	for(lc=la+lb;!c[lc];lc--);lc++;
}
```





